{"version":3,"sources":["public/src/index.js"],"names":["auth","firebase","whenSignedIn","document","getElementById","whenSignedOut","signInBtn","signOutBtn","userDetails","provider","GoogleAuthProvider","deleteList","thingsList","remove","createElement","id","appendChild","onclick","signInWithPopup","style","display","signOut","onAuthStateChanged","user","hidden","innerHTML","displayName","uid","db","firestore","collection","orderBy","get","then","snapshot","docs","forEach","doc","createElementList","li","taskName","quantity","date","owner","daysToDeadline","cross","setAttribute","console","log","textContent","data","today","Date","Math","floor","getTime","formattedText","textNode","createTextNode","addEventListener","e","stopPropagation","target","parentElement","getAttribute","delete","handleClick","item","getInputFieldsValues","thingsRef","add","created_at","now","value","text","options","selectedIndex","addButton","deleteListButton","body","myBtn"],"mappings":"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","file":"src.2f2d0701.js","sourceRoot":"..","sourcesContent":["const auth = firebase.auth();\n\nconst whenSignedIn = document.getElementById(\"whenSignedIn\");\nconst whenSignedOut = document.getElementById(\"whenSignedOut\");\n\nconst signInBtn = document.getElementById(\"signInBtn\");\nconst signOutBtn = document.getElementById(\"signOutBtn\");\n\nconst userDetails = document.getElementById(\"userDetails\");\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\n// block\nconst deleteList = () => {\n  thingsList.remove();\n  thingsList = document.createElement(\"ul\");\n  thingsList.id = \"myList\";\n  document.getElementById(\"root\").appendChild(thingsList);\n};\n\nsignInBtn.onclick = () => {\n  auth.signInWithPopup(provider);\n  thingsList.style.display = \"block\";\n};\nsignOutBtn.onclick = () => {\n  auth.signOut();\n  thingsList.style.display = \"none\";\n};\n\nauth.onAuthStateChanged((user) => {\n  if (user) {\n    whenSignedIn.hidden = false;\n    whenSignedOut.hidden = true;\n    userDetails.innerHTML = `<h3>Hello ${user.displayName}</h3><p>User ID: ${user.uid}</p>`;\n    const db = firebase.firestore();\n\n    db.collection(\"things\")\n      .orderBy(\"created_at\", \"desc\")\n      .get()\n      .then((snapshot) => {\n        snapshot.docs.forEach((doc) => {\n          createElementList(doc);\n        });\n      });\n    // Make a list\n    thingsList = document.getElementById(\"myList\");\n    function createElementList(doc) {\n      let li = document.createElement(\"LI\");\n      let taskName = document.createElement(\"span\");\n      let quantity = document.createElement(\"span\");\n      let date = document.createElement(\"span\");\n      let owner = document.createElement(\"span\");\n      let daysToDeadline = document.createElement(\"span\");\n      let cross = document.createElement(\"div\");\n\n      li.setAttribute(\"data-id\", doc.id);\n      console.log(li.setAttribute(\"data-id\", doc.id));\n      taskName.textContent = doc.data().taskName;\n      quantity.textContent = doc.data().quantity;\n      date.textContent = doc.data().date;\n      owner.textContent = doc.data().owner;\n      cross.textContent = \"x\";\n\n      // Calculate days to deadline\n      var today = new Date();\n      daysToDeadline.textContent = Math.floor(\n        (new Date(doc.data().date).getTime() - today.getTime()) /\n          (1000 * 60 * 60 * 24)\n      );\n\n      // Create text node\n      const formattedText = `${doc.data().taskName} => ${\n        quantity.innerHTML\n      } by ${date.innerHTML} ||  ${daysToDeadline.innerHTML} days remaining - ${\n        owner.innerHTML\n      } `;\n      let textNode = document.createTextNode(formattedText);\n\n      // Create delete button\n      // const deleteButton = document.createElement(\"button\");\n      // deleteButton.textContent = \"remove\";\n      // deleteButton.onclick = () => {\n      //   li.remove();\n      //   console.log(\"hello\");\n      // };\n\n      cross.addEventListener(\"click\", (e) => {\n        e.stopPropagation();\n        let id = e.target.parentElement.getAttribute(\"data-id\");\n        db.collection(\"things\").doc(id).delete();\n        li.remove(id);\n      });\n\n      // Add text node to list items\n      li.appendChild(textNode);\n      li.appendChild(cross);\n\n      // Add list items and delete button to list\n      thingsList.appendChild(li);\n    }\n\n    const handleClick = (item) => {\n      const { taskName, quantity, date, owner } = getInputFieldsValues(item);\n\n      const db = firebase.firestore();\n      thingsList = document.getElementById(\"myList\");\n      let thingsRef;\n      thingsRef = db.collection(\"things\");\n\n      // add input field values to firebase\n      thingsRef.add({\n        taskName: taskName,\n        quantity: quantity,\n        date: date,\n        owner: owner,\n        created_at: Date.now(),\n      });\n      deleteList();\n      db.collection(\"things\")\n        .get()\n        .then((snapshot) => {\n          snapshot.docs.forEach((doc) => {\n            createElementList(doc);\n          });\n        });\n    };\n    // Get Input fields\n    const getInputFieldsValues = () => {\n      var taskName = document.getElementById(\"task\").value;\n      var quantity = document.getElementById(\"quantity\").value;\n      var date = document.getElementById(\"deadline\").value;\n\n      var e = document.getElementById(\"pets\");\n      var text = e.options[e.selectedIndex].text;\n      var owner = text;\n      console.log(owner);\n\n      return { taskName, quantity, date, owner };\n    };\n\n    // add button\n    const addButton = document.getElementById(\"myBtn\");\n    addButton.addEventListener(\"click\", handleClick);\n\n    const deleteListButton = document.createElement(\"button\");\n\n    deleteListButton.addEventListener(\"click\", deleteList);\n    document.body.appendChild(deleteListButton);\n  } else {\n    whenSignedIn.hidden = true;\n    whenSignedOut.hidden = false;\n    myBtn.hidden = true;\n    userDetails.innerHTML = \"\";\n    console.log(\"hello\");\n  }\n});\n\n// Display List on UI\n\ndocument.getElementById(\"submit\").onclick = function () {};\n"]}