{"version":3,"sources":["public/src/index.js"],"names":["thingsList","document","getElementById","renderCafe","doc","li","createElement","taskName","quantity","date","daysToDeadline","setAttribute","id","textContent","data","today","Date","Math","floor","getTime","formattedText","innerHTML","textNode","createTextNode","console","log","appendChild","db","firebase","firestore","collection","get","then","snapshot","docs","forEach","myTasks","addTaskToServer","task","push","getMyTasks","getInputFieldsValues","value","handleClick","thingsRef","unsubscribe","add","onSnapshot","querySnapshot","items","map","join","updateUI","item","node","deleteButton","onclick","remove","addButton","addEventListener","button","body","auth","whenSignedIn","whenSignedOut","signInBtn","signOutBtn","userDetails","provider","GoogleAuthProvider","signInWithPopup","signOut","onAuthStateChanged","user","hidden","displayName","uid"],"mappings":"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","file":"src.2f2d0701.js","sourceRoot":"..","sourcesContent":["thingsList = document.getElementById(\"myList\");\n\nfunction renderCafe(doc) {\n  let li = document.createElement(\"LI\");\n  let taskName = document.createElement(\"span\");\n  let quantity = document.createElement(\"span\");\n  let date = document.createElement(\"span\");\n  let daysToDeadline = document.createElement(\"span\");\n  li.setAttribute(\"data-id\", doc.id);\n  taskName.textContent = doc.data().taskName;\n  quantity.textContent = doc.data().quantity;\n  date.textContent = doc.data().date;\n\n  var today = new Date();\n  daysToDeadline.textContent = Math.floor(\n    (new Date(doc.data().date).getTime() - today.getTime()) /\n      (1000 * 60 * 60 * 24)\n  );\n\n  const formattedText = `${taskName.innerHTML} => ${quantity.innerHTML} by ${date.innerHTML} ||  ${daysToDeadline.innerHTML} days remaining  `;\n\n  let textNode = document.createTextNode(formattedText);\n  console.log(textNode);\n  thingsList.appendChild(textNode);\n}\n\nconst db = firebase.firestore();\ndb.collection(\"things\")\n  .get()\n  .then((snapshot) => {\n    snapshot.docs.forEach((doc) => {\n      renderCafe(doc);\n    });\n  });\n\nconst myTasks = [\n  {\n    taskName: \"contact clients\",\n    quantity: \"5\",\n    date: \"10/04/2500\",\n  },\n  {\n    taskName: \"make cakes\",\n    quantity: \"100\",\n    date: \"10/04/2200\",\n  },\n  {\n    taskName: \"get pizza\",\n    quantity: \"3000\",\n    date: \"10/11/11100\",\n  },\n];\n\nconst addTaskToServer = (task) => {\n  // some code to add task\n  myTasks.push(task);\n};\nconst getMyTasks = () => {\n  // you need to use myTasks!!!\n  // change coded below\n  //\n  var today = new Date();\n\n  myTasks.forEach(\n    (task) =>\n      (task.daysToDeadline = Math.floor(\n        (new Date(task.date).getTime() - today.getTime()) /\n          (1000 * 60 * 60 * 24)\n      ))\n  );\n\n  // change code above\n\n  return myTasks;\n};\n\nconst getInputFieldsValues = () => {\n  var taskName = document.getElementById(\"task\").value;\n  var quantity = document.getElementById(\"quantity\").value;\n  var date = document.getElementById(\"deadline\").value;\n\n  return { taskName, quantity, date };\n};\n\nconst handleClick = () => {\n  const { taskName, quantity, date } = getInputFieldsValues();\n\n  // // POST task to server\n  // addTaskToServer({ taskName, quantity, date });\n  // let addedTasks = getMyTasks();\n  // let lastTaskAdded = addedTasks[addedTasks.length - 1];\n\n  // updateUI(lastTaskAdded);\n\n  const db = firebase.firestore();\n\n  thingsList = document.getElementById(\"myList\");\n\n  let thingsRef;\n  let unsubscribe;\n  thingsRef = db.collection(\"things\");\n\n  thingsRef.add({\n    taskName: taskName,\n    quantity: quantity,\n    date: date,\n  });\n\n  unsubscribe = thingsRef.onSnapshot((querySnapshot) => {\n    const items = querySnapshot.docs.map((doc) => {\n      return `<li>${doc.data().taskName}</li>`;\n    });\n\n    thingsList.innerHTML = items.join(\"\");\n  });\n};\n\nconst updateUI = (item) => {\n  const { taskName, quantity, date } = item;\n\n  var node = document.createElement(\"LI\");\n\n  const formattedText = `${taskName} => ${quantity} by ${date} ||  ${item.daysToDeadline} days remaining `;\n  const textNode = document.createTextNode(formattedText);\n\n  const deleteButton = document.createElement(\"button\");\n  deleteButton.textContent = \"remove\";\n  deleteButton.onclick = () => node.remove();\n\n  node.appendChild(textNode);\n  node.appendChild(deleteButton);\n\n  document.getElementById(\"myList\").appendChild(node);\n};\n\nconst addButton = document.getElementById(\"myBtn\");\naddButton.addEventListener(\"click\", handleClick);\n\nlet items = getMyTasks();\n\nitems.forEach(function (item) {\n  updateUI(item);\n});\n// add a button called show server tasks\nvar button = document.createElement(\"button\");\nbutton.innerHTML = \"Show server tasks\";\ndocument.body.appendChild(button);\n\n//const hello = console.log(getMyTasks())\n//console.log(hello)\n\nbutton.addEventListener(\"click\", () => console.log(getMyTasks()));\n\n// change code above\nconst auth = firebase.auth();\n\nconst whenSignedIn = document.getElementById(\"whenSignedIn\");\nconst whenSignedOut = document.getElementById(\"whenSignedOut\");\n\nconst signInBtn = document.getElementById(\"signInBtn\");\nconst signOutBtn = document.getElementById(\"signOutBtn\");\n\nconst userDetails = document.getElementById(\"userDetails\");\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nsignInBtn.onclick = () => auth.signInWithPopup(provider);\n\nsignOutBtn.onclick = () => auth.signOut();\n\nauth.onAuthStateChanged((user) => {\n  if (user) {\n    whenSignedIn.hidden = false;\n    whenSignedOut.hidden = true;\n    userDetails.innerHTML = `<h3>Hello ${user.displayName}!</h3> <p>User ID: ${user.uid}</p>`;\n  } else {\n    // not signed in\n    whenSignedIn.hidden = true;\n    whenSignedOut.hidden = false;\n    userDetails.innerHTML = \"\";\n  }\n});\n\n///// Firestore /////\n"]}