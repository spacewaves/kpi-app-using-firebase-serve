{"version":3,"sources":["public/src/index.js"],"names":["auth","firebase","whenSignedIn","document","getElementById","whenSignedOut","signInBtn","signOutBtn","userDetails","provider","GoogleAuthProvider","deleteList","thingsList","remove","createElement","id","appendChild","onclick","signInWithPopup","style","display","signOut","onAuthStateChanged","user","hidden","innerHTML","displayName","uid","db","firestore","collection","orderBy","get","then","snapshot","docs","forEach","doc","createElementList","li","taskName","quantity","date","daysToDeadline","cross","setAttribute","console","log","textContent","data","today","Date","Math","floor","getTime","formattedText","textNode","createTextNode","addEventListener","e","stopPropagation","target","parentElement","getAttribute","delete","handleClick","item","getInputFieldsValues","thingsRef","add","created_at","now","value","addButton","deleteListButton","body","myBtn"],"mappings":"AAAA,IAAMA,IAAI,GAAGC,QAAQ,CAACD,IAAT,EAAb;AAEA,IAAME,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAArB;AACA,IAAMC,aAAa,GAAGF,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAtB;AAEA,IAAME,SAAS,GAAGH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAlB;AACA,IAAMG,UAAU,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;AAEA,IAAMI,WAAW,GAAGL,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAApB;AAEA,IAAMK,QAAQ,GAAG,IAAIR,QAAQ,CAACD,IAAT,CAAcU,kBAAlB,EAAjB,EAEA;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBC,EAAAA,UAAU,CAACC,MAAX;AACAD,EAAAA,UAAU,GAAGT,QAAQ,CAACW,aAAT,CAAuB,IAAvB,CAAb;AACAF,EAAAA,UAAU,CAACG,EAAX,GAAgB,QAAhB;AACAZ,EAAAA,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCY,WAAhC,CAA4CJ,UAA5C;AACD,CALD;;AAOAN,SAAS,CAACW,OAAV,GAAoB,YAAM;AACxBjB,EAAAA,IAAI,CAACkB,eAAL,CAAqBT,QAArB;AACAG,EAAAA,UAAU,CAACO,KAAX,CAAiBC,OAAjB,GAA2B,OAA3B;AACD,CAHD;;AAIAb,UAAU,CAACU,OAAX,GAAqB,YAAM;AACzBjB,EAAAA,IAAI,CAACqB,OAAL;AACAT,EAAAA,UAAU,CAACO,KAAX,CAAiBC,OAAjB,GAA2B,MAA3B;AACD,CAHD;;AAKApB,IAAI,CAACsB,kBAAL,CAAwB,UAACC,IAAD,EAAU;AAChC,MAAIA,IAAJ,EAAU;AACRrB,IAAAA,YAAY,CAACsB,MAAb,GAAsB,KAAtB;AACAnB,IAAAA,aAAa,CAACmB,MAAd,GAAuB,IAAvB;AACAhB,IAAAA,WAAW,CAACiB,SAAZ,uBAAqCF,IAAI,CAACG,WAA1C,8BAAyEH,IAAI,CAACI,GAA9E;AACA,QAAMC,EAAE,GAAG3B,QAAQ,CAAC4B,SAAT,EAAX;AAEAD,IAAAA,EAAE,CAACE,UAAH,CAAc,QAAd,EACGC,OADH,CACW,YADX,EACyB,MADzB,EAEGC,GAFH,GAGGC,IAHH,CAGQ,UAACC,QAAD,EAAc;AAClBA,MAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsB,UAACC,GAAD,EAAS;AAC7BC,QAAAA,iBAAiB,CAACD,GAAD,CAAjB;AACD,OAFD;AAGD,KAPH,EANQ,CAcR;;AACAzB,IAAAA,UAAU,GAAGT,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;;AACA,aAASkC,iBAAT,CAA2BD,GAA3B,EAAgC;AAC9B,UAAIE,EAAE,GAAGpC,QAAQ,CAACW,aAAT,CAAuB,IAAvB,CAAT;AACA,UAAI0B,QAAQ,GAAGrC,QAAQ,CAACW,aAAT,CAAuB,MAAvB,CAAf;AACA,UAAI2B,QAAQ,GAAGtC,QAAQ,CAACW,aAAT,CAAuB,MAAvB,CAAf;AACA,UAAI4B,IAAI,GAAGvC,QAAQ,CAACW,aAAT,CAAuB,MAAvB,CAAX;AACA,UAAI6B,cAAc,GAAGxC,QAAQ,CAACW,aAAT,CAAuB,MAAvB,CAArB;AACA,UAAI8B,KAAK,GAAGzC,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAZ;AAEAyB,MAAAA,EAAE,CAACM,YAAH,CAAgB,SAAhB,EAA2BR,GAAG,CAACtB,EAA/B;AACA+B,MAAAA,OAAO,CAACC,GAAR,CAAYR,EAAE,CAACM,YAAH,CAAgB,SAAhB,EAA2BR,GAAG,CAACtB,EAA/B,CAAZ;AACAyB,MAAAA,QAAQ,CAACQ,WAAT,GAAuBX,GAAG,CAACY,IAAJ,GAAWT,QAAlC;AACAC,MAAAA,QAAQ,CAACO,WAAT,GAAuBX,GAAG,CAACY,IAAJ,GAAWR,QAAlC;AACAC,MAAAA,IAAI,CAACM,WAAL,GAAmBX,GAAG,CAACY,IAAJ,GAAWP,IAA9B;AACAE,MAAAA,KAAK,CAACI,WAAN,GAAoB,GAApB,CAb8B,CAe9B;;AACA,UAAIE,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACAR,MAAAA,cAAc,CAACK,WAAf,GAA6BI,IAAI,CAACC,KAAL,CAC3B,CAAC,IAAIF,IAAJ,CAASd,GAAG,CAACY,IAAJ,GAAWP,IAApB,EAA0BY,OAA1B,KAAsCJ,KAAK,CAACI,OAAN,EAAvC,KACG,OAAO,EAAP,GAAY,EAAZ,GAAiB,EADpB,CAD2B,CAA7B,CAjB8B,CAsB9B;;AACA,UAAMC,aAAa,aAAMlB,GAAG,CAACY,IAAJ,GAAWT,QAAjB,iBACjBC,QAAQ,CAAChB,SADQ,iBAEZiB,IAAI,CAACjB,SAFO,kBAEUkB,cAAc,CAAClB,SAFzB,sBAAnB;AAGA,UAAI+B,QAAQ,GAAGrD,QAAQ,CAACsD,cAAT,CAAwBF,aAAxB,CAAf,CA1B8B,CA4B9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAX,MAAAA,KAAK,CAACc,gBAAN,CAAuB,OAAvB,EAAgC,UAACC,CAAD,EAAO;AACrCA,QAAAA,CAAC,CAACC,eAAF;AACA,YAAI7C,EAAE,GAAG4C,CAAC,CAACE,MAAF,CAASC,aAAT,CAAuBC,YAAvB,CAAoC,SAApC,CAAT;AACAnC,QAAAA,EAAE,CAACE,UAAH,CAAc,QAAd,EAAwBO,GAAxB,CAA4BtB,EAA5B,EAAgCiD,MAAhC;AACAzB,QAAAA,EAAE,CAAC1B,MAAH,CAAUE,EAAV;AACD,OALD,EApC8B,CA2C9B;;AACAwB,MAAAA,EAAE,CAACvB,WAAH,CAAewC,QAAf;AACAjB,MAAAA,EAAE,CAACvB,WAAH,CAAe4B,KAAf,EA7C8B,CA+C9B;;AACAhC,MAAAA,UAAU,CAACI,WAAX,CAAuBuB,EAAvB;AACD;;AAED,QAAM0B,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAU;AAAA,kCACSC,oBAAoB,CAACD,IAAD,CAD7B;AAAA,UACpB1B,QADoB,yBACpBA,QADoB;AAAA,UACVC,QADU,yBACVA,QADU;AAAA,UACAC,IADA,yBACAA,IADA;;AAG5B,UAAMd,EAAE,GAAG3B,QAAQ,CAAC4B,SAAT,EAAX;AACAjB,MAAAA,UAAU,GAAGT,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AACA,UAAIgE,SAAJ;AACAA,MAAAA,SAAS,GAAGxC,EAAE,CAACE,UAAH,CAAc,QAAd,CAAZ,CAN4B,CAQ5B;;AACAsC,MAAAA,SAAS,CAACC,GAAV,CAAc;AACZ7B,QAAAA,QAAQ,EAAEA,QADE;AAEZC,QAAAA,QAAQ,EAAEA,QAFE;AAGZC,QAAAA,IAAI,EAAEA,IAHM;AAIZ4B,QAAAA,UAAU,EAAEnB,IAAI,CAACoB,GAAL;AAJA,OAAd;AAMA5D,MAAAA,UAAU;AACViB,MAAAA,EAAE,CAACE,UAAH,CAAc,QAAd,EACGE,GADH,GAEGC,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClBA,QAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsB,UAACC,GAAD,EAAS;AAC7BC,UAAAA,iBAAiB,CAACD,GAAD,CAAjB;AACD,SAFD;AAGD,OANH;AAOD,KAvBD,CAnEQ,CA2FR;;;AACA,QAAM8B,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACjC,UAAI3B,QAAQ,GAAGrC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCoE,KAA/C;AACA,UAAI/B,QAAQ,GAAGtC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCoE,KAAnD;AACA,UAAI9B,IAAI,GAAGvC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCoE,KAA/C;AAEA,aAAO;AAAEhC,QAAAA,QAAQ,EAARA,QAAF;AAAYC,QAAAA,QAAQ,EAARA,QAAZ;AAAsBC,QAAAA,IAAI,EAAJA;AAAtB,OAAP;AACD,KAND,CA5FQ,CAoGR;;;AACA,QAAM+B,SAAS,GAAGtE,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAlB;AACAqE,IAAAA,SAAS,CAACf,gBAAV,CAA2B,OAA3B,EAAoCO,WAApC;AAEA,QAAMS,gBAAgB,GAAGvE,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAzB;AAEA4D,IAAAA,gBAAgB,CAAChB,gBAAjB,CAAkC,OAAlC,EAA2C/C,UAA3C;AACAR,IAAAA,QAAQ,CAACwE,IAAT,CAAc3D,WAAd,CAA0B0D,gBAA1B;AACD,GA5GD,MA4GO;AACLxE,IAAAA,YAAY,CAACsB,MAAb,GAAsB,IAAtB;AACAnB,IAAAA,aAAa,CAACmB,MAAd,GAAuB,KAAvB;AACAoD,IAAAA,KAAK,CAACpD,MAAN,GAAe,IAAf;AACAhB,IAAAA,WAAW,CAACiB,SAAZ,GAAwB,EAAxB;AACAqB,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD;AACF,CApHD,GAsHA","file":"src.2f2d0701.js","sourceRoot":"..","sourcesContent":["const auth = firebase.auth();\n\nconst whenSignedIn = document.getElementById(\"whenSignedIn\");\nconst whenSignedOut = document.getElementById(\"whenSignedOut\");\n\nconst signInBtn = document.getElementById(\"signInBtn\");\nconst signOutBtn = document.getElementById(\"signOutBtn\");\n\nconst userDetails = document.getElementById(\"userDetails\");\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\n// block\nconst deleteList = () => {\n  thingsList.remove();\n  thingsList = document.createElement(\"ul\");\n  thingsList.id = \"myList\";\n  document.getElementById(\"root\").appendChild(thingsList);\n};\n\nsignInBtn.onclick = () => {\n  auth.signInWithPopup(provider);\n  thingsList.style.display = \"block\";\n};\nsignOutBtn.onclick = () => {\n  auth.signOut();\n  thingsList.style.display = \"none\";\n};\n\nauth.onAuthStateChanged((user) => {\n  if (user) {\n    whenSignedIn.hidden = false;\n    whenSignedOut.hidden = true;\n    userDetails.innerHTML = `<h3>Hello ${user.displayName}</h3><p>User ID: ${user.uid}</p>`;\n    const db = firebase.firestore();\n\n    db.collection(\"things\")\n      .orderBy(\"created_at\", \"desc\")\n      .get()\n      .then((snapshot) => {\n        snapshot.docs.forEach((doc) => {\n          createElementList(doc);\n        });\n      });\n    // Make a list\n    thingsList = document.getElementById(\"myList\");\n    function createElementList(doc) {\n      let li = document.createElement(\"LI\");\n      let taskName = document.createElement(\"span\");\n      let quantity = document.createElement(\"span\");\n      let date = document.createElement(\"span\");\n      let daysToDeadline = document.createElement(\"span\");\n      let cross = document.createElement(\"div\");\n\n      li.setAttribute(\"data-id\", doc.id);\n      console.log(li.setAttribute(\"data-id\", doc.id));\n      taskName.textContent = doc.data().taskName;\n      quantity.textContent = doc.data().quantity;\n      date.textContent = doc.data().date;\n      cross.textContent = \"x\";\n\n      // Calculate days to deadline\n      var today = new Date();\n      daysToDeadline.textContent = Math.floor(\n        (new Date(doc.data().date).getTime() - today.getTime()) /\n          (1000 * 60 * 60 * 24)\n      );\n\n      // Create text node\n      const formattedText = `${doc.data().taskName} => ${\n        quantity.innerHTML\n      } by ${date.innerHTML} ||  ${daysToDeadline.innerHTML} days remaining  `;\n      let textNode = document.createTextNode(formattedText);\n\n      // Create delete button\n      // const deleteButton = document.createElement(\"button\");\n      // deleteButton.textContent = \"remove\";\n      // deleteButton.onclick = () => {\n      //   li.remove();\n      //   console.log(\"hello\");\n      // };\n\n      cross.addEventListener(\"click\", (e) => {\n        e.stopPropagation();\n        let id = e.target.parentElement.getAttribute(\"data-id\");\n        db.collection(\"things\").doc(id).delete();\n        li.remove(id);\n      });\n\n      // Add text node to list items\n      li.appendChild(textNode);\n      li.appendChild(cross);\n\n      // Add list items and delete button to list\n      thingsList.appendChild(li);\n    }\n\n    const handleClick = (item) => {\n      const { taskName, quantity, date } = getInputFieldsValues(item);\n\n      const db = firebase.firestore();\n      thingsList = document.getElementById(\"myList\");\n      let thingsRef;\n      thingsRef = db.collection(\"things\");\n\n      // add input field values to firebase\n      thingsRef.add({\n        taskName: taskName,\n        quantity: quantity,\n        date: date,\n        created_at: Date.now(),\n      });\n      deleteList();\n      db.collection(\"things\")\n        .get()\n        .then((snapshot) => {\n          snapshot.docs.forEach((doc) => {\n            createElementList(doc);\n          });\n        });\n    };\n    // Get Input fields\n    const getInputFieldsValues = () => {\n      var taskName = document.getElementById(\"task\").value;\n      var quantity = document.getElementById(\"quantity\").value;\n      var date = document.getElementById(\"deadline\").value;\n\n      return { taskName, quantity, date };\n    };\n\n    // add button\n    const addButton = document.getElementById(\"myBtn\");\n    addButton.addEventListener(\"click\", handleClick);\n\n    const deleteListButton = document.createElement(\"button\");\n\n    deleteListButton.addEventListener(\"click\", deleteList);\n    document.body.appendChild(deleteListButton);\n  } else {\n    whenSignedIn.hidden = true;\n    whenSignedOut.hidden = false;\n    myBtn.hidden = true;\n    userDetails.innerHTML = \"\";\n    console.log(\"hello\");\n  }\n});\n\n// Display List on UI\n"]}