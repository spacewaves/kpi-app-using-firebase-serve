{"version":3,"sources":["public/src/index.js"],"names":["thingsList","document","getElementById","createElementList","doc","li","createElement","taskName","quantity","date","daysToDeadline","cross","setAttribute","id","console","log","textContent","data","today","Date","Math","floor","getTime","formattedText","innerHTML","textNode","createTextNode","addEventListener","e","stopPropagation","target","parentElement","getAttribute","db","collection","delete","remove","appendChild","firebase","firestore","orderBy","get","then","snapshot","docs","forEach","getInputFieldsValues","value","handleClick","item","thingsRef","add","created_at","now","deleteList","addButton","deleteListButton","body"],"mappings":"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","file":"src.2f2d0701.js","sourceRoot":"..","sourcesContent":["// Make a list\nthingsList = document.getElementById(\"myList\");\nfunction createElementList(doc) {\n  let li = document.createElement(\"LI\");\n  let taskName = document.createElement(\"span\");\n  let quantity = document.createElement(\"span\");\n  let date = document.createElement(\"span\");\n  let daysToDeadline = document.createElement(\"span\");\n  let cross = document.createElement(\"div\");\n\n  li.setAttribute(\"data-id\", doc.id);\n  console.log(li.setAttribute(\"data-id\", doc.id));\n  taskName.textContent = doc.data().taskName;\n  quantity.textContent = doc.data().quantity;\n  date.textContent = doc.data().date;\n  cross.textContent = \"x\";\n\n  // Calculate days to deadline\n  var today = new Date();\n  daysToDeadline.textContent = Math.floor(\n    (new Date(doc.data().date).getTime() - today.getTime()) /\n      (1000 * 60 * 60 * 24)\n  );\n\n  // Create text node\n  const formattedText = `${doc.data().taskName} => ${quantity.innerHTML} by ${\n    date.innerHTML\n  } ||  ${daysToDeadline.innerHTML} days remaining  `;\n  let textNode = document.createTextNode(formattedText);\n\n  // Create delete button\n  // const deleteButton = document.createElement(\"button\");\n  // deleteButton.textContent = \"remove\";\n  // deleteButton.onclick = () => {\n  //   li.remove();\n  //   console.log(\"hello\");\n  // };\n\n  cross.addEventListener(\"click\", (e) => {\n    e.stopPropagation();\n    let id = e.target.parentElement.getAttribute(\"data-id\");\n    db.collection(\"things\").doc(id).delete();\n    li.remove(id);\n  });\n\n  // Add text node to list items\n  li.appendChild(textNode);\n  li.appendChild(cross);\n\n  // Add list items and delete button to list\n  thingsList.appendChild(li);\n}\n\n// Display List on UI\nconst db = firebase.firestore();\ndb.collection(\"things\")\n  .orderBy(\"created_at\", \"desc\")\n  .get()\n  .then((snapshot) => {\n    snapshot.docs.forEach((doc) => {\n      createElementList(doc);\n    });\n  });\n\n// Get Input fields\nconst getInputFieldsValues = () => {\n  var taskName = document.getElementById(\"task\").value;\n  var quantity = document.getElementById(\"quantity\").value;\n  var date = document.getElementById(\"deadline\").value;\n\n  return { taskName, quantity, date };\n};\n\nconst handleClick = (item) => {\n  const { taskName, quantity, date } = getInputFieldsValues(item);\n\n  const db = firebase.firestore();\n  thingsList = document.getElementById(\"myList\");\n  let thingsRef;\n  thingsRef = db.collection(\"things\");\n\n  // add input field values to firebase\n  thingsRef.add({\n    taskName: taskName,\n    quantity: quantity,\n    date: date,\n    created_at: Date.now(),\n  });\n  deleteList();\n  db.collection(\"things\")\n    .get()\n    .then((snapshot) => {\n      snapshot.docs.forEach((doc) => {\n        createElementList(doc);\n      });\n    });\n\n  //  // calculate days to deadline\n  //  var today = new Date();\n  //  item.daysToDeadline = Math.floor(\n  //    (new Date(getInputFieldsValues(item).date).getTime() - today.getTime()) /\n  //      (1000 * 60 * 60 * 24)\n  //  );\n  //\n  //  // create list item with input fields values\n  //  var z = document.createElement(\"LI\");\n  //  z.innerHTML = `${taskName} => ${quantity} by ${date} ||  ${item.daysToDeadline} days remaining `;\n  //\n  //  // create delete button and functionality\n  //  const deleteButton = document.createElement(\"button\");\n  //  deleteButton.textContent = \"remove\";\n  //  deleteButton.onclick = () => z.remove();\n  //\n  //  // add list items and delete button to list\n  //\n  //  // add list items and delete button to list\n  //  thingsList.appendChild(z);\n  //  thingsList.appendChild(deleteButton);\n};\n// add button\nconst addButton = document.getElementById(\"myBtn\");\naddButton.addEventListener(\"click\", handleClick);\n\nconst deleteListButton = document.createElement(\"button\");\n\n// block\nconst deleteList = () => {\n  thingsList.remove();\n  thingsList = document.createElement(\"ul\");\n  thingsList.id = \"myList\";\n  document.getElementById(\"root\").appendChild(thingsList);\n};\n\ndeleteListButton.addEventListener(\"click\", deleteList);\ndocument.body.appendChild(deleteListButton);\n"]}